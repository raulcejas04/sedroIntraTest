(self["webpackChunk"] = self["webpackChunk"] || []).push([["validarFormularios"],{

/***/ "./assets/validator.js":
/*!*****************************!*\
  !*** ./assets/validator.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

/* provided dependency */ var $ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
__webpack_require__(/*! core-js/modules/es.array.index-of.js */ "./node_modules/core-js/modules/es.array.index-of.js");

__webpack_require__(/*! core-js/modules/es.function.bind.js */ "./node_modules/core-js/modules/es.function.bind.js");

__webpack_require__(/*! core-js/modules/es.array.slice.js */ "./node_modules/core-js/modules/es.array.slice.js");

__webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "./node_modules/core-js/modules/es.regexp.exec.js");

__webpack_require__(/*! core-js/modules/es.string.replace.js */ "./node_modules/core-js/modules/es.string.replace.js");

__webpack_require__(/*! core-js/modules/es.parse-int.js */ "./node_modules/core-js/modules/es.parse-int.js");

$(document).ready(function () {
  $('input[type=text]').each(function (index) {
    var input = $(this);
    console.log('Type: ' + input.attr('type') + ' | Name: ' + input.attr('name') + ' | Value: ' + input.val());
    var myClass = $(this).attr("class"); //es del tipo CUIT

    if (myClass.indexOf("val-cuit") >= 0) {
      input.bind("change blur mouseleave", function (event) {
        input[0].setCustomValidity("");

        if (!isValidCUITCUIL(input.val())) {
          input[0].setCustomValidity("Cuit/Cuil inválido"); //console.log( input.attr('id'));

          console.log($("#err_nueva_solicitud_cuit").html());
          $("#err_" + input.attr('id')).html("Cuit/Cuil inválido"); //$("#err_nueva_solicitud_cuit").html("Cuit/Cuil inválido");

          $("#err_" + input.attr('id')).css('color', 'red'); // TODO es provisorio, habría que sacarlo y hacerlo desde CSS
        } else {
          $("#err_" + input.attr('id')).html('');
        }
      });
      input.bind('keydown', function (event) {
        if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') return;
        input.selectionStart = input.textLength;
        input.selectionEnd = input.textLength;
        input.val(input.val()[1] && input.val()[2] !== '-' ? input.val().slice(0, 2) + '-' + input.val().slice(2) : input.val());
        input.val(input.val()[10] && input.val()[11] !== '-' ? input.val().slice(0, 11) + '-' + input.val().slice(11) : input.val());

        if (event.key === 'Backspace' && input.selectionStart === 3 && input.selectionEnd === 3 && input.textLength === 3) {
          event.preventDefault();
          input.val(input.val().slice(0, -2));
          return;
        }

        if (event.key === 'Backspace' && input.selectionStart === 12 && input.selectionEnd === 12 && input.textLength === 12) {
          event.preventDefault();
          input.val(input.val().slice(0, -2));
        }
      });
      input.bind('keypress', function (event) {
        if (!validator.isNumeric(event.key) || input.textLength >= 13) event.preventDefault();
      });
    }
  });
  $('input[type=email]').each(function (index) {
    var input = $(this);
    console.log('Type: ' + input.attr('type') + ' | Name: ' + input.attr('name') + ' | Value: ' + input.val());
    var myClass = $(this).attr("class");

    if (myClass.indexOf("val-email") >= 0) {
      console.log("mail");
      input.bind("change blur", function (event) {
        input[0].setCustomValidity("");

        if (!validator.isEmail(input.val())) {
          input[0].setCustomValidity("Mail invalido");
          console.log(input.attr('id'));
          input.val('');
          input.focus();
          document.getElementById(input.attr('id')).focus();
          event.preventDefault();
          return false;
        }
      });
    }
  });
});

function isValidCUITCUIL(cuit) {
  if (cuit.length !== 13) return false;
  var rv = false;
  var resultado = 0;
  var cuit_nro = cuit.replace("-", "");
  var codes = "6789456789";
  var verificador = parseInt(cuit_nro[cuit_nro.length - 1]);
  var x = 0;

  while (x < 10) {
    var digitoValidador = parseInt(codes.substring(x, x + 1));
    if (isNaN(digitoValidador)) digitoValidador = 0;
    var digito = parseInt(cuit_nro.substring(x, x + 1));
    if (isNaN(digito)) digito = 0;
    var digitoValidacion = digitoValidador * digito;
    resultado += digitoValidacion;
    x++;
  }

  resultado = resultado % 11;
  rv = resultado === verificador;
  return rv;
}

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors-node_modules_core-js_internals_classof_js-node_modules_core-js_internals_export_js-no-bf16b5","vendors-node_modules_core-js_modules_es_string_replace_js","vendors-node_modules_core-js_modules_es_array_index-of_js-node_modules_core-js_modules_es_arr-b00005"], () => (__webpack_exec__("./assets/validator.js")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0ROLEVBQUFBLFNBQVMsR0FBR0EsU0FBUyxHQUFHLEVBQXhCO0FBQ0FELEVBQUFBLEVBQUUsR0FBSUMsU0FBUyxLQUFLSSxXQUFwQjtBQUNBLFNBQU9MLEVBQVA7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Fzc2V0cy92YWxpZGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4kKCdpbnB1dFt0eXBlPXRleHRdJykuZWFjaCggXG4gICAgZnVuY3Rpb24oaW5kZXgpeyAgXG4gICAgICAgIHZhciBpbnB1dCA9ICQodGhpcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUeXBlOiAnICsgaW5wdXQuYXR0cigndHlwZScpICsgJyB8IE5hbWU6ICcgKyBpbnB1dC5hdHRyKCduYW1lJykgKyAnIHwgVmFsdWU6ICcgKyBpbnB1dC52YWwoKSk7XG5cdCAgICAgICAgdmFyIG15Q2xhc3MgPSAkKHRoaXMpLmF0dHIoXCJjbGFzc1wiKTtcbiAgICAgICAgXG5cdCAgICAgICAgLy9lcyBkZWwgdGlwbyBDVUlUXG5cdCAgICAgICAgaWYoIG15Q2xhc3MuaW5kZXhPZihcInZhbC1jdWl0XCIpID49IDAgKVxuXHQgICAgICAgIHtcblxuXHQgICAgICAgICAgICAgICBpbnB1dC5iaW5kKFwiY2hhbmdlIGJsdXIgbW91c2VsZWF2ZVwiLChldmVudCk9PnsgIFxuXG5cdFx0XHQgICAgaW5wdXRbMF0uc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XG5cdFx0XHQgICAgaWYgKCFpc1ZhbGlkQ1VJVENVSUwoaW5wdXQudmFsKCkpKVxuXHRcdFx0ICAgIHtcblx0XHQgICAgICAgICAgICAgICAgICAgIGlucHV0WzBdLnNldEN1c3RvbVZhbGlkaXR5KFwiQ3VpdC9DdWlsIGludsOhbGlkb1wiKTtcblx0XHQgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIGlucHV0LmF0dHIoJ2lkJykpO1xuXHRcdCAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJChcIiNlcnJfbnVldmFfc29saWNpdHVkX2N1aXRcIikuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNlcnJfXCIraW5wdXQuYXR0cignaWQnKSkuaHRtbChcIkN1aXQvQ3VpbCBpbnbDoWxpZG9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJChcIiNlcnJfbnVldmFfc29saWNpdHVkX2N1aXRcIikuaHRtbChcIkN1aXQvQ3VpbCBpbnbDoWxpZG9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjZXJyX1wiK2lucHV0LmF0dHIoJ2lkJykpLmNzcygnY29sb3InLCdyZWQnKTsgLy8gVE9ETyBlcyBwcm92aXNvcmlvLCBoYWJyw61hIHF1ZSBzYWNhcmxvIHkgaGFjZXJsbyBkZXNkZSBDU1NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjZXJyX1wiK2lucHV0LmF0dHIoJ2lkJykpLmh0bWwoJycpO1xuXHRcdFx0ICAgIH1cblx0XHQgICAgICB9KTtcblx0ICAgICAgICBcblxuXHRcdCAgICAgIGlucHV0LmJpbmQoJ2tleWRvd24nLCAoIGV2ZW50ICkgPT4ge1xuXHRcdCAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0xlZnQnIHx8IGV2ZW50LmtleSA9PT0gJ0Fycm93UmlnaHQnKSByZXR1cm5cblx0XHQgICAgICAgICAgICBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IGlucHV0LnRleHRMZW5ndGg7XG5cdFx0ICAgICAgICAgICAgaW5wdXQuc2VsZWN0aW9uRW5kID0gaW5wdXQudGV4dExlbmd0aDtcblx0XHQgICAgICAgICAgICBpbnB1dC52YWwoIGlucHV0LnZhbCgpWzFdICYmIGlucHV0LnZhbCgpWzJdIT09Jy0nID8gaW5wdXQudmFsKCkuc2xpY2UoMCwyKSArICctJyArIGlucHV0LnZhbCgpLnNsaWNlKDIpIDogaW5wdXQudmFsKCkgKTtcblx0ICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWwoIGlucHV0LnZhbCgpWzEwXSAmJiBpbnB1dC52YWwoKVsxMV0hPT0nLScgPyBpbnB1dC52YWwoKS5zbGljZSgwLDExKSArICctJyArIGlucHV0LnZhbCgpLnNsaWNlKDExKSA6IGlucHV0LnZhbCgpICk7XG4gICAgICAgIFx0ICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPT09IDMgJiYgaW5wdXQuc2VsZWN0aW9uRW5kID09PSAzICYmIGlucHV0LnRleHRMZW5ndGggPT09IDMpIHtcbiAgICAgICAgXHQgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgXHQgICAgICAgICAgICAgICAgaW5wdXQudmFsKCBpbnB1dC52YWwoKS5zbGljZSgwLCAtMikgKTtcbiAgICAgICAgXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcdCAgICAgICAgICAgIH1cbiAgICAgICAgXHQgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJyAmJiBpbnB1dC5zZWxlY3Rpb25TdGFydCA9PT0gMTIgJiYgaW5wdXQuc2VsZWN0aW9uRW5kID09PSAxMiAmJiBpbnB1dC50ZXh0TGVuZ3RoID09PSAxMikge1xuICAgICAgICAgICBcdCAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBcdCAgICAgICAgICAgICAgICBpbnB1dC52YWwoIGlucHV0LnZhbCgpLnNsaWNlKDAsIC0yKSApO1xuICAgICAgICBcdCAgICAgICAgICAgIH1cbiAgICAgICAgXHQgICAgIH0pO1xuICAgICAgICBcdCAgICAgXG4gICAgICBcdCAgICAgICAgICAgICBpbnB1dC5iaW5kKCdrZXlwcmVzcycsICggZXZlbnQgKSA9PiB7XG5cdFx0ICAgICAgICAgICAgaWYgKCF2YWxpZGF0b3IuaXNOdW1lcmljKGV2ZW50LmtleSkgfHwgaW5wdXQudGV4dExlbmd0aCA+PSAxMykgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBcdFx0fSk7XG4gICAgICAgIFx0XHRcbiAgICAgICAgXHRcdFxuXHQgICAgICAgIFxuXHQgICAgICAgIH1cblx0ICAgICAgICBcbiAgICB9XG4pO1xuXG5cbiQoJ2lucHV0W3R5cGU9ZW1haWxdJykuZWFjaCggXG4gICAgZnVuY3Rpb24oaW5kZXgpeyAgXG4gICAgICAgIHZhciBpbnB1dCA9ICQodGhpcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUeXBlOiAnICsgaW5wdXQuYXR0cigndHlwZScpICsgJyB8IE5hbWU6ICcgKyBpbnB1dC5hdHRyKCduYW1lJykgKyAnIHwgVmFsdWU6ICcgKyBpbnB1dC52YWwoKSk7XG5cdCAgICAgICAgdmFyIG15Q2xhc3MgPSAkKHRoaXMpLmF0dHIoXCJjbGFzc1wiKTtcblxuXG5cbiAgICAgIFx0ICAgICAgICBpZiggbXlDbGFzcy5pbmRleE9mKFwidmFsLWVtYWlsXCIpID49IDAgKVxuXHQgICAgICAgIHtcblx0XHRcdGNvbnNvbGUubG9nKFwibWFpbFwiKTtcblx0ICAgICAgICAgICAgICAgaW5wdXQuYmluZChcImNoYW5nZSBibHVyXCIsKGV2ZW50KT0+eyAgXG5cblx0XHRcdCAgICBpbnB1dFswXS5zZXRDdXN0b21WYWxpZGl0eShcIlwiKTtcblx0XHRcdCAgICBpZiAoICF2YWxpZGF0b3IuaXNFbWFpbChpbnB1dC52YWwoKSkgKVxuIFx0XHRcdCAgICB7XG5cdFx0XHQgICAgICAgIGlucHV0WzBdLnNldEN1c3RvbVZhbGlkaXR5KFwiTWFpbCBpbnZhbGlkb1wiKTtcblx0XHRcdFx0Y29uc29sZS5sb2coaW5wdXQuYXR0cignaWQnKSk7XG4gICAgICBcdFx0XHQgICAgICAgIGlucHV0LnZhbCgnJyk7XG4gICAgICBcdFx0XHQgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICBcdFx0XHQgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0LmF0dHIoJ2lkJykpLmZvY3VzKCk7XG4gICAgICBcdFx0XHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcdFx0XHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0XHRcdCAgICB9XG5cdFx0ICAgICAgfSk7XG5cdCAgICAgICAgXG4gICAgIFxuXHQgICAgICAgIH1cblx0fVxuKTtcblxufSlcblxuZnVuY3Rpb24gaXNWYWxpZENVSVRDVUlMKGN1aXQpIHtcblxuICAgIGlmIChjdWl0Lmxlbmd0aCAhPT0gMTMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgcnYgPSBmYWxzZTtcbiAgICBsZXQgcmVzdWx0YWRvID0gMDtcbiAgICBsZXQgY3VpdF9ucm8gPSBjdWl0LnJlcGxhY2UoXCItXCIsIFwiXCIpO1xuICAgIGxldCBjb2RlcyA9IFwiNjc4OTQ1Njc4OVwiO1xuICAgIGxldCB2ZXJpZmljYWRvciA9IHBhcnNlSW50KGN1aXRfbnJvW2N1aXRfbnJvLmxlbmd0aCAtIDFdKTtcbiAgICBsZXQgeCA9IDA7XG4gICAgd2hpbGUgKHggPCAxMCkge1xuICAgICAgICBsZXQgZGlnaXRvVmFsaWRhZG9yID0gcGFyc2VJbnQoY29kZXMuc3Vic3RyaW5nKHgsIHggKyAxKSk7XG4gICAgICAgIGlmIChpc05hTihkaWdpdG9WYWxpZGFkb3IpKVxuICAgICAgICAgICAgZGlnaXRvVmFsaWRhZG9yID0gMDtcbiAgICAgICAgbGV0IGRpZ2l0byA9IHBhcnNlSW50KGN1aXRfbnJvLnN1YnN0cmluZyh4LCB4ICsgMSkpO1xuICAgICAgICBpZiAoaXNOYU4oZGlnaXRvKSlcbiAgICAgICAgICAgIGRpZ2l0byA9IDA7XG4gICAgICAgIGxldCBkaWdpdG9WYWxpZGFjaW9uID0gZGlnaXRvVmFsaWRhZG9yICogZGlnaXRvO1xuICAgICAgICByZXN1bHRhZG8gKz0gZGlnaXRvVmFsaWRhY2lvbjtcbiAgICAgICAgeCsrO1xuICAgIH1cbiAgICByZXN1bHRhZG8gPSByZXN1bHRhZG8gJSAxMTtcbiAgICBydiA9IChyZXN1bHRhZG8gPT09IHZlcmlmaWNhZG9yKTtcbiAgICByZXR1cm4gcnY7XG59XG4iXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJlYWNoIiwiaW5kZXgiLCJpbnB1dCIsImNvbnNvbGUiLCJsb2ciLCJhdHRyIiwidmFsIiwibXlDbGFzcyIsImluZGV4T2YiLCJiaW5kIiwiZXZlbnQiLCJzZXRDdXN0b21WYWxpZGl0eSIsImlzVmFsaWRDVUlUQ1VJTCIsImh0bWwiLCJjc3MiLCJrZXkiLCJzZWxlY3Rpb25TdGFydCIsInRleHRMZW5ndGgiLCJzZWxlY3Rpb25FbmQiLCJzbGljZSIsInByZXZlbnREZWZhdWx0IiwidmFsaWRhdG9yIiwiaXNOdW1lcmljIiwiaXNFbWFpbCIsImZvY3VzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdWl0IiwibGVuZ3RoIiwicnYiLCJyZXN1bHRhZG8iLCJjdWl0X25ybyIsInJlcGxhY2UiLCJjb2RlcyIsInZlcmlmaWNhZG9yIiwicGFyc2VJbnQiLCJ4IiwiZGlnaXRvVmFsaWRhZG9yIiwic3Vic3RyaW5nIiwiaXNOYU4iLCJkaWdpdG8iLCJkaWdpdG9WYWxpZGFjaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==